<!-- HTML: rakugaki.html å®Œå…¨è‡ªå‹•ç‰ˆ -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, noarchive, nofollow, noimageindex">
  <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic&family=Yusei+Magic&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚‰ããŒã</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/main.js" defer></script>
</head>
<body>
  <div class="wrapper">
    <a href="main.html"><img src="pic/logo.png" alt="ãƒ­ã‚´" class="site-logo"></a>
    <h1 class="text-center">ã‚‰ããŒã</h1>

    <!-- è‡ªå‹•æŒ¿å…¥ç”¨ã®ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚¨ãƒªã‚¢ -->
<div id="auto-gallery" class="notice-box">
  <h2 class="section-title">ã‚‰ããŒã</h2>
  <!-- JavaScriptãŒã“ã“ã«å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ -->
    <div id="gallery-container"></div>
  </div>
  
</div>

<footer class="back-home">
    <a href="main.html" class="home-button">ğŸ  ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>
  </footer>
  <a href="rstop.html"><p>â™¥</p></a>

  <script>
  const GAS_ENDPOINT = "https://script.google.com/macros/s/AKfycbxoHPHWZFd2XNqa0A4Bg8kFBVE5P1UZSt25G5ZwiVpkAP7JE8WFPhqRYQAXG0YFB4myNg/exec";

  fetch(GAS_ENDPOINT)
    .then(response => response.json())
    .then(data => {
      const container = document.getElementById("gallery-container");

      const scrollBox = document.createElement("div");
      scrollBox.className = "comic-scroll";

      data.folders.forEach(group => {
        const card = document.createElement("div");
        card.className = "comic-card";
        card.setAttribute("data-images", JSON.stringify(group.images));
        card.setAttribute("data-title", group.title);

        const caption = document.createElement("div");
        caption.className = "comic-caption";
        caption.textContent = group.title;
        card.appendChild(caption);

        const img = document.createElement("img");
        img.src = group.images[0];
        img.className = "thumbnail";
        card.appendChild(img);

        scrollBox.appendChild(card);
      });

      container.appendChild(scrollBox);

      // è‡ªå‹•è¿½åŠ è¦ç´ ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‰ï¼ˆé‡è¦ï¼ï¼‰
      const newCards = container.querySelectorAll(".comic-card");
      newCards.forEach(card => {
        card.addEventListener("click", () => {
          const images = JSON.parse(card.getAttribute("data-images"));
          const title = card.getAttribute("data-title") || "";
          openSeries(images, title);
        });
      });
    });
</script>
<!-- Lightboxæ§‹é€ ï¼ˆæ–°ã—ã„ç”»åƒè¡¨ç¤ºãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ -->
<div id="lightbox-viewer" class="lightbox-viewer">
  <div class="lightbox-overlay">
    <div class="lightbox-content">
      <!-- JavaScriptã§ç”»åƒã‚„ã‚¿ã‚¤ãƒˆãƒ«ãŒæŒ¿å…¥ã•ã‚Œã¾ã™ -->
    </div>
  </div>
</div>

</body>
</html>
